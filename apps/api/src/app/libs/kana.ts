import * as mojiJS from 'mojijs';

const replaceMojiTable = {
  ぢ: 'じ',
  づ: 'ず',
  ゐ: 'い',
  ゑ: 'え',
  を: 'お',
};

const bobikiTable = {
  ああ: 'あー',
  あう: 'おー',
  いい: 'いー',
  うう: 'うー',
  えい: 'えー',
  ええ: 'えー',
  おう: 'おー',
  おお: 'おー',
  かあ: 'かー',
  かう: 'こー',
  きい: 'きー',
  くう: 'くー',
  けい: 'けー',
  けえ: 'けー',
  こう: 'こー',
  こお: 'こー',
  さあ: 'さー',
  さう: 'そー',
  しい: 'しー',
  すう: 'すー',
  せい: 'せー',
  せえ: 'せー',
  そう: 'そー',
  そお: 'そー',
  たあ: 'たー',
  たう: 'とー',
  ちい: 'ちー',
  つう: 'つー',
  てい: 'てー',
  てえ: 'てー',
  とう: 'とー',
  とお: 'とー',
  なあ: 'なー',
  なう: 'のー',
  にい: 'にー',
  ぬう: 'ぬー',
  ねい: 'ねー',
  ねえ: 'ねー',
  のう: 'のー',
  のお: 'のー',
  はあ: 'はー',
  はう: 'ほー',
  ひい: 'ひー',
  ふう: 'ふー',
  へい: 'へー',
  へえ: 'へー',
  ほう: 'ほー',
  ほお: 'ほー',
  ほほ: 'ほー',
  まあ: 'まー',
  まう: 'もー',
  みい: 'みー',
  むう: 'むー',
  めい: 'めー',
  めえ: 'めー',
  もう: 'もー',
  もお: 'もー',
  やあ: 'やー',
  やう: 'よー',
  ゆう: 'ゆー',
  よう: 'よー',
  よお: 'よー',
  らあ: 'らー',
  らう: 'ろー',
  りい: 'りー',
  るう: 'るー',
  れい: 'れー',
  れえ: 'れー',
  ろう: 'ろー',
  ろお: 'ろー',
  わあ: 'わー',
  わう: 'おー',
  があ: 'がー',
  がう: 'ごー',
  ぎい: 'ぎー',
  ぐう: 'ぐー',
  げい: 'げー',
  げえ: 'げー',
  ごう: 'ごー',
  ごお: 'ごー',
  ざあ: 'ざー',
  ざう: 'ぞー',
  じい: 'じー',
  ずう: 'ずー',
  ぜい: 'ぜー',
  ぜえ: 'ぜー',
  ぞう: 'ぞー',
  ぞお: 'ぞー',
  だあ: 'だー',
  だう: 'どー',
  でい: 'でー',
  でえ: 'でー',
  どう: 'どー',
  どお: 'どー',
  ばあ: 'ばー',
  ばう: 'ぼー',
  びい: 'びー',
  ぶう: 'ぶー',
  べい: 'べー',
  べえ: 'べー',
  ぼう: 'ぼー',
  ぼお: 'ぼー',
  ぱあ: 'ぱー',
  ぱう: 'ぽー',
  ぴい: 'ぴー',
  ぷう: 'ぷー',
  ぺい: 'ぺー',
  ぺえ: 'ぺー',
  ぽう: 'ぽー',
  ぽお: 'ぽー',
  きゃあ: 'きゃー',
  きゅう: 'きゅー',
  きょう: 'きょー',
  しょお: 'しょー',
  しゃあ: 'しゃー',
  しゅう: 'しゅー',
  しょう: 'しょー',
  ちゃあ: 'ちゃー',
  ちゅう: 'ちゅー',
  ちょう: 'ちょー',
  ちょお: 'ちょー',
  にゃあ: 'にゃー',
  にゅう: 'にゅー',
  にょう: 'にょー',
  にょお: 'にょー',
  ひゃあ: 'ひゃー',
  ひゅう: 'ひゅー',
  ひょう: 'ひょー',
  ひょお: 'ひょー',
  みゃあ: 'みゃー',
  みゅう: 'みゅー',
  みょう: 'みょー',
  みょお: 'みょー',
  りゃあ: 'りゃー',
  りゅう: 'りゅー',
  りょう: 'りょー',
  りょお: 'りょー',
  ぎゃあ: 'ぎゃー',
  ぎゅう: 'ぎゅー',
  ぎょう: 'ぎょー',
  ぎょお: 'ぎょー',
  じゃあ: 'じゃー',
  じゅう: 'じゅー',
  じょう: 'じょー',
  じょお: 'じょー',
  びゃあ: 'びゃー',
  びゅう: 'びゅー',
  びょう: 'びょー',
  びょお: 'びょー',
  ぴゃあ: 'ぴゃー',
  ぴゅう: 'ぴゅー',
  ぴょう: 'ぴょー',
  ぴょお: 'ぴょー',
  ふぁあ: 'ふぁー',
  ふぃい: 'ふぃー',
  ふぇえ: 'ふぇー',
  ふぉお: 'ふぉー',
};

export const toHiraganaFromRomaji = (text: string) => {
  const kana = mojiJS.toHiraganaFromRomaji(text);
  const notUseKanaRemoved = kana.replace(/ぢ|づ|ゐ|ゑ|を/, (str) => replaceMojiTable[str]);
  return notUseKanaRemoved.replace(new RegExp(Object.keys(bobikiTable).join('|'), 'g'), (str) => bobikiTable[str]);
};

export const toKanjiYomigana = (text: string) => mojiJS.toHalfWidthKana(mojiJS.toKatakana(toHiraganaFromRomaji(text)));
export const toQueryYomigana = (text: string) => mojiJS.toHalfWidthKana(mojiJS.toKatakana(text));
export const toKunyomi = (text: string) => mojiJS.toHiragana(mojiJS.toFullWidthKana(text));
export const toOnyomi = (text: string) => mojiJS.toFullWidthKana(text);
